<!DOCTYPE html><html lang="en" class="__variable_e66fe9 __variable_1e505f __variable_bd9c35">
<!-- Mirrored from www.soufianeelc.me/blog/article/react-components-performance-optimization by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 29 Dec 2023 21:06:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="../../_next/static/media/86fdec36ddd9097e-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="../../_next/static/media/ac800602b3e12bda-s.p.otf" as="font" crossorigin="" type="font/otf"/><link rel="preload" href="../../_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="../../_next/static/css/ce9a23a06f5ef06b.css" data-precedence="next"/><link rel="stylesheet" href="../../_next/static/css/49d3059087771821.css" data-precedence="next"/><link rel="preload" href="../../_next/static/chunks/webpack-c0e3f6881e4b1cbd.js" as="script" fetchPriority="low"/><script src="../../_next/static/chunks/fd9d1056-52c4c7ce4033b4db.js" async=""></script><script src="../../_next/static/chunks/864-3eace956004a9db4.js" async=""></script><script src="../../_next/static/chunks/main-app-8f13c08947745519.js" async=""></script><link rel="preload" href="../../../contra.com/static/embed/sdk.js" as="script"/><title>Blog | React components performance optimization</title><meta name="description" content="Introduction:
In a React application, components are renderedâ€¦usually a lot. Improving performance includes preventing unnecessary renders and reducing the time a render takes. React comes with tools to help us prevent unnecessary renders: memo, useM..."/><meta property="og:title" content="Soufianeelc | Front-end Developer"/><meta property="og:description" content="I&#x27;m a front-end developer, I like using modern technologies to create digital products"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://personal-portfolio-dnqp561jh-soufianeelc.vercel.app/opengraph-image.png?40dc6eb3ece9ea28"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@soufianeeclc"/><meta name="twitter:title" content="Soufianeelc | Front-end Developer"/><meta name="twitter:description" content="I&#x27;m a front-end developer, I like using modern technologies to create digital products"/><meta name="twitter:image:type" content="image/png"/><meta name="twitter:image:width" content="1200"/><meta name="twitter:image:height" content="630"/><meta name="twitter:image" content="https://personal-portfolio-dnqp561jh-soufianeelc.vercel.app/opengraph-image.png?40dc6eb3ece9ea28"/><link rel="icon" href="../../favicon.ico" type="image/x-icon" sizes="48x48"/><meta name="next-size-adjust"/><link rel="stylesheet" href="../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark.min.css"/><script src="../../_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body><header class="flex sticky top-0 bg-white/50 backdrop-blur-lg  z-50 items-center justify-between px-5 py-4 border-b border-gray-200"><nav class="container mx-auto flex-col flex justify-between items-center max-w-6xl"><div class="flex items-center w-full justify-between"><a href="../../index.html"><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="40" height="40" fill="#111111"></rect><path d="M30.9356 18.0433V18.055H19.9584L30.9356 18.0433Z" fill="white"></path><path d="M21.3937 33.9999L13.1981 33.9415C12.593 33.937 12.1049 33.4443 12.1049 32.8374C12.1049 32.2247 12.6024 31.7287 13.2133 31.7332L21.7157 31.7921C22.6696 31.7921 23.3933 31.616 23.886 31.2638C24.5569 30.9116 25.0705 30.2307 25.427 29.2213C25.5058 28.8795 25.5448 28.5852 25.5448 28.3382C25.5448 27.4811 25.225 26.6766 24.5855 25.925C24.1663 25.5199 23.7731 25.2521 23.4059 25.1205C23.0024 24.9364 22.4493 24.8443 21.7466 24.8443H16.432V22.636H21.4958C22.7905 22.636 23.7498 22.7937 24.3737 23.109C25.7683 23.719 26.7665 24.718 27.3693 26.1061C27.6631 26.8001 27.8096 27.5386 27.8096 28.3224C27.8096 30.0155 27.1414 31.4615 25.8046 32.6604C24.929 33.323 24.1377 33.7147 23.4301 33.8355C23.0682 33.9447 22.3897 33.9999 21.3937 33.9999Z" fill="white"></path><path d="M27.0649 24.8798L35.9364 24.8721V27.0786L28.052 27.0854C27.979 26.7278 27.8715 26.3806 27.7291 26.0437C27.5446 25.6192 27.3234 25.2315 27.0649 24.8798Z" fill="white"></path><path d="M24.5935 33.9385C24.452 33.9465 24.3105 33.9542 24.1689 33.9623C24.5868 33.805 24.9209 33.6321 25.1641 33.492C25.9232 33.0544 26.4848 32.4893 26.4852 32.4889C26.6205 32.351 26.7118 32.2477 26.7759 32.1681C26.9187 31.9916 27.0213 31.8317 27.0903 31.7149C28.4056 31.7149 29.7209 31.7149 31.0358 31.7149C32.6687 31.7149 34.3015 31.7149 35.9344 31.7149C35.9348 32.4552 35.9353 33.195 35.9357 33.9353L24.5935 33.9385Z" fill="white"></path><path d="M36 18V20.206L28.2984 20.2249L27.851 20.2271V20.2285H18.2089C17.2804 20.2285 16.5702 20.3943 16.0769 20.7253C16.0464 20.746 16.0154 20.7648 15.9831 20.7828C15.3488 21.1341 14.8578 21.7836 14.5101 22.7319C14.494 22.7764 14.4805 22.8226 14.4701 22.8689C14.4014 23.1816 14.3677 23.452 14.3677 23.6829C14.3677 24.5211 14.6745 25.3085 15.2877 26.0457C15.3155 26.0794 15.3461 26.1113 15.3775 26.1414C15.78 26.5214 16.1587 26.7743 16.5127 26.9005C16.9174 27.0847 17.4726 27.1763 18.177 27.1763H22.4044C23.0144 27.1763 23.5086 27.6709 23.5086 28.2805C23.5086 28.5855 23.385 28.8617 23.1851 29.0616C22.9852 29.2615 22.7094 29.3846 22.4044 29.3846H18.4294C17.1308 29.3846 16.1681 29.2274 15.5428 28.9116C14.144 28.302 13.1428 27.3025 12.5381 25.915C12.2434 25.2205 12.0966 24.482 12.0966 23.6981C12.0966 22.0231 12.7528 20.5892 14.0663 19.3979C14.0937 19.3732 14.1225 19.3494 14.1521 19.3274C14.993 18.7003 15.7558 18.3225 16.4412 18.1941C16.4731 18.1882 16.5046 18.1806 16.536 18.172C16.9093 18.071 17.5741 18.0202 18.5314 18.0202L19.9733 18.0189L36 18Z" fill="white"></path></svg><span class="sr-only">Soufiane&#x27;s logo</span></a><button type="button" aria-label="Menu Icon" class="md:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" aria-hidden="true" class="h-8 w-8" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 9a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 9zm0 6.75a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg></button><nav class="divide-x hidden md:flex divide-gray-400  items-center gap-8"><ul class="flex items-center space-x-5"><li><a href="../../index.html" class="flex items-center space-x-2 text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg><span class="first-letter:uppercase">home</span></a></li><li><a href="../../about.html" class="flex items-center space-x-2 text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg><span class="first-letter:uppercase">about me</span></a></li><li><a href="../../blog.html" class="flex items-center space-x-2 text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" x2="8" y1="13" y2="13"></line><line x1="16" x2="8" y1="17" y2="17"></line><line x1="10" x2="8" y1="9" y2="9"></line></svg><span class="first-letter:uppercase">blog</span></a></li><li><a href="../../products.html" class="flex items-center space-x-2 text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><line x1="12" x2="12" y1="22" y2="12"></line></svg><span class="first-letter:uppercase">products</span></a></li></ul><ul class="flex items-center space-x-4 pl-8"><li><a href="https://twitter.com/soufianeeelc" class="flex items-center text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg><span class="sr-only">Twitter</span></a></li><li><a href="https://linkedin.com/in/soufianeelc" class="flex items-center text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="sr-only">LinkedIn</span></a></li><li><a href="https://github.com/soufianeelc" class="flex items-center text-gray-600 transition-colors duration-100 hover:text-gray-800"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="sr-only">Github</span></a></li></ul></nav></div></nav></header><main class="container mx-auto max-w-4xl flex flex-col px-4 mt-8"><a href="../../index.html" class="text-sm flex w-fit items-center space-x-2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" aria-hidden="true" class="w-4 h-4 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z" clip-rule="evenodd"></path></svg><span>Back home</span></a><div class="flex flex-col mt-16 space-y-8"><h1 class="text-3xl"> <!-- -->React components performance optimization</h1><div class="flex flex-col space-y-2"><img alt="React components performance optimization" loading="lazy" width="1600" height="840" decoding="async" data-nimg="1" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1679582185712%2Fe21870b8-1c65-49a8-ae50-66c38ad3df4d.png&amp;w=1920&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1679582185712%2Fe21870b8-1c65-49a8-ae50-66c38ad3df4d.png&amp;w=3840&amp;q=75 2x" src="../../_next/e21870b8-1c65-49a8-ae50-66c38ad3df4d72a4.png?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1679582185712%2Fe21870b8-1c65-49a8-ae50-66c38ad3df4d.png&amp;w=3840&amp;q=75"/><p class="text-neutral-400 text-sm font-normal">Published: <!-- -->March 23, 2023</p></div></div><article class="mt-[100px] prose prose-pre:bg-transparent prose-pre:p-0 prose-code:rounded-lg lg:prose-xl max-w-none prose-p:text-sm md:prose-p:text-base prose-headings:font-medium"><h2>Introduction:</h2>
<p>In a React application, components are renderedâ€¦usually a lot. Improving performance includes preventing unnecessary renders and reducing the time a render takes. React comes with tools to help us prevent unnecessary renders: <code>memo</code>, <code>useMemo</code>, and <code>useCallback</code>.</p>
<h2>No change, no re-render:</h2>
<p>When the parent&#x27;s state (or props) changes, react will re-render all the children components even though their props or state are the same.</p>
<p>Have a look at the following code:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Cat</span> = (<span class="hljs-params">{ name }</span>) =&gt; {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name, <span class="hljs-string">&quot; rendered!&quot;</span>);
	<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {
	<span class="hljs-keyword">const</span> [cats, setCats] = <span class="hljs-title function_">useState</span>([<span class="hljs-string">&quot;Boggy&quot;</span>, <span class="hljs-string">&quot;Siana&quot;</span>]);
	<span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>();

	<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">event</span>) =&gt; {
		event.<span class="hljs-title function_">preventDefault</span>();
		<span class="hljs-title function_">setCats</span>([...cats, inputRef.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>]);
		inputRef.<span class="hljs-property">current</span>.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;
	};
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
					<span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span>
					<span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>
					<span class="hljs-attr">required</span>
				/&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Add cat<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
				{cats.map((name, index) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Cat</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span> /&gt;</span>)}
			<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
		<span class="hljs-tag">&lt;/&gt;</span></span>
	);
}
</code></pre>
<p>Let&#x27;s add a new cat <code>Picka</code> and see what the console logs:</p>
<pre><code class="hljs language-plaintext">Boggy  rendered!
Siana  rendered!
Picka rendered!
</code></pre>
<p>Every time we add a new cat and update the state, <strong>react re-renders all the children components</strong>:</p>
<p>The <code>Cat</code> component is a pure component: <em>same output given the same props</em>. We donâ€™t want to re-render a pure component if the properties havenâ€™t changed. React provides us with a solution: The <code>memo()</code> function can be used to create a component that will only re-render when its properties change.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* import the `memo` function */</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { memo, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Cat</span> = (<span class="hljs-params">{ name }</span>) =&gt; {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name, <span class="hljs-string">&quot; rendered!&quot;</span>);
	<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;
};

<span class="hljs-comment">/* wrap the `Cat` component within `memo` */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MemoCat</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-title class_">Cat</span>);
</code></pre>
<p>Weâ€™ve created a new component called <code>MemoCat</code>. <code>MemoCat</code> will only cause the <code>Cat</code> to render when the props change.</p>
<p>Then, you can replace the <code>cat</code> component with <code>MemoCat</code>.</p>
<pre><code class="hljs language-jsx">...
{cats.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">name, index</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MemoCat</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span> /&gt;</span></span>)}
...
</code></pre>
<p>Now, every time we add a new cat, we see only one render in the console:</p>
<p><code>picka rendred!</code></p>
<h2>useCallback:</h2>
<p>Now, what if we need to pass a function to the <code>Cat</code> component along with the <code>name</code> prop? Ok, let&#x27;s modify the <code>Cat</code> component:</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Cat</span> = (<span class="hljs-params">{ name, meow = f =&gt; f }</span>) =&gt; {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name, <span class="hljs-string">&quot; rendered!&quot;</span>);
	<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> meow(name)}&gt;{name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;
};
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MemoCat</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-title class_">Cat</span>);
</code></pre>
<p>Note: the <code>f =&gt; f</code> is a fake function that does nothing. It is used to avoid errors in case we didn&#x27;t provide a <code>meow</code> property to the <code>Cat</code> component.</p>
<p>Now, let&#x27;s modify the <code>App</code> and provide a <code>meow</code> prop:</p>
<pre><code class="hljs language-jsx">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {
	<span class="hljs-keyword">const</span> [cats, setCats] = <span class="hljs-title function_">useState</span>([<span class="hljs-string">&quot;Boggy&quot;</span>, <span class="hljs-string">&quot;Siana&quot;</span>,]);
	<span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>();
	<span class="hljs-comment">// create a function that we will pass to the Cat component as a prop.</span>
	<span class="hljs-keyword">const</span> <span class="hljs-title function_">meow</span> = (<span class="hljs-params">name</span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name, <span class="hljs-string">&#x27;meowed!&#x27;</span>);
	
	<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">event</span>) =&gt; {
		event.<span class="hljs-title function_">preventDefault</span>();
		<span class="hljs-title function_">setCats</span>([...cats, inputRef.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>]);
		inputRef.<span class="hljs-property">current</span>.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;
	};
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
					<span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span>
					<span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>
					<span class="hljs-attr">required</span>
				/&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Add cat<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
				{cats.map((name, index) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">MemoCat</span> 
					<span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">meow</span>=<span class="hljs-string">{meow}</span> /&gt;</span>
				)}
			<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
		<span class="hljs-tag">&lt;/&gt;</span></span>
	);
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>Let&#x27;s retry adding a cat named &#x27;picka&#x27; to the list and see what is logged in the console:</p>
<pre><code class="hljs language-plaintext">Boggy  rendered!
Siana  rendered!
picka  rendered!
</code></pre>
<p>Unfortunately, the magic of <code>memo</code> is gone. But why???</p>
<p>Every time we update the state, the <code>App</code> re-renders and the <code>meow</code> function is re-created. For React, the new <code>meow</code> function prop is different from the previous one. So it re-renders the <code>Cat</code> component.</p>
<p>To solve this problem, we have to &#x27;memoize&#x27; (or simply remember) the <code>meow</code> function definition between re-renders. That&#x27;s why we use <code>useCallback</code> hook.</p>
<p>Let&#x27;s import <code>useCallback</code>:</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">import</span> {useCallback} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
</code></pre>
<p>and use it in our <code>App</code> component to:</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">const</span> meow = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name), [])
</code></pre>
<p>It works as expected when adding a new Cat!</p>
<h2>Heavy calculation? cache it:</h2>
<p>Rendering takes time and resources, especially if your component is doing <em>heavy calculations</em>, like looping over a large array or doing expensive computations.</p>
<p>React provides us with the <code>useMemo</code> hook, which let&#x27;s us cache the result of a calculation between re-renders.</p>
<p><code>useMemo</code> takes two parameters, the 1st one is a function, and a dependency array of values needed in the calculation, <em>it will re-run the function only if the dependency array changes</em>. if the dependency array didn&#x27;t change and the component re-renders, useMemo won&#x27;t re-calculate the value and it will return the one from the previous render instead.</p>
<h3>Bonus: How to determine if your component is doing heavy calculations:</h3>
<p>To know if your component is doing heavy tasks, you may need to measure the time spent on a piece of code using <code>console.time()</code>.</p>
<pre><code class="hljs language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">&#x27;filter array&#x27;</span>)
<span class="hljs-keyword">const</span> filteredArray = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {...}, [deps])
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&#x27;filter array&#x27;</span>)
</code></pre>
<p>if your function needed a significant amount of time to execute (say <code>1ms</code> or more), you may need to use <code>useMemo</code></p>
<p>That&#x27;s all for today! I hope you enjoyed reading this article.</p>
<h2>References:</h2>
<ul>
<li>
<p><a href="https://www.oreilly.com/library/view/learning-react-2nd/9781492051718/">O&#x27;Reilly book</a></p>
</li>
<li>
<p><a href="https://react.dev/">React docs</a></p>
</li>
</ul></article></main><footer class=" relative container mt-[70px] flex flex-col rounded-t-3xl px-6 py-9 bg-blend-screen"><div class="flex-col justify-center items-center gap-3 inline-flex"><div class="relative max-w-fit inline-flex items-center justify-between box-border whitespace-nowrap px-1 h-7 text-small rounded-full bg-success/20 text-success-600 dark:text-success"><span class="flex-1 text-inherit font-normal px-2"><div class="flex space-x-2 items-center"><span class="relative flex h-3 w-3"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span></span><p class="">Open for freelance or full-time roles</p></div></span></div><div class="max-w-xl text-center  text-4xl font-serif">Do you think I could be a good fit for your next project?</div><div class="max-w-md text-center text-neutral-700 text-sm lg:text-base font-normal">I&#x27;m currently looking for new opportunities to grow my skills. Let&#x27;s chat if you are interseted!</div><a href="mailto:elcouay@outlook.com" class="w-fit px-4 py-2 text-white hover:bg-violet-600 duration-150 ease-out bg-accent rounded-full justify-center items-center gap-2.5 inline-flex"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" aria-hidden="true" class="w-6 h-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"></path><path d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"></path></svg><div class="text-center text-sm font-medium">Get In Touch</div></a></div><div class="flex  items-center space-x-2 mt-24 justify-between"><div class="w-72 h-24 flex-col justify-center gap-2.5 inline-flex"><div class="flex items-center space-x-3"><a href="https://twitter.com/soufianeeelc" target="_blank"><span class="sr-only">Twitter</span><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class=" w-6 h-6 hover:text-accent transition-colors duration-75 ease-in" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="https://linkedin.com/in/soufianeelc" target="_blank"><span class="sr-only">LinkedIn</span><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class=" w-6 h-6 hover:text-accent transition-colors duration-75 ease-in" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://github.com/soufianeelc" target="_blank"><span class="sr-only">Github</span><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class=" w-6 h-6 hover:text-accent transition-colors duration-75 ease-in" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a></div><div class="flex-col justify-start items-start gap-0.5 flex"><div class="text-xs">Designed &amp; Developed By @soufianeelc</div><div class="text-xs">Â©2023. All rights reserved.</div></div></div><img alt="Qr code" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" style="color:transparent" src="../../images/qr.svg"/></div></footer>;<script src="../../_next/static/chunks/webpack-c0e3f6881e4b1cbd.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/86fdec36ddd9097e-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/ac800602b3e12bda-s.p.otf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/otf\"}]\n3:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/css/ce9a23a06f5ef06b.css\",\"style\"]\n0:\"$L5\"\n"])</script><script>self.__next_f.push([1,"6:HL[\"/_next/static/css/49d3059087771821.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":6054,\"chunks\":[\"272:static/chunks/webpack-c0e3f6881e4b1cbd.js\",\"971:static/chunks/fd9d1056-52c4c7ce4033b4db.js\",\"864:static/chunks/864-3eace956004a9db4.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":1729,\"chunks\":[\"272:static/chunks/webpack-c0e3f6881e4b1cbd.js\",\"971:static/chunks/fd9d1056-52c4c7ce4033b4db.js\",\"864:static/chunks/864-3eace956004a9db4.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":1443,\"chunks\":[\"272:static/chunks/webpack-c0e3f6881e4b1cbd.js\",\"971:static/chunks/fd9d1056-52c4c7ce4033b4db.js\",\"864:stat"])</script><script>self.__next_f.push([1,"ic/chunks/864-3eace956004a9db4.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":8639,\"chunks\":[\"272:static/chunks/webpack-c0e3f6881e4b1cbd.js\",\"971:static/chunks/fd9d1056-52c4c7ce4033b4db.js\",\"864:static/chunks/864-3eace956004a9db4.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":4441,\"chunks\":[\"244:static/chunks/244-c42ba56614d2af63.js\",\"185:static/chunks/app/layout-fbc045c554b3af68.js\"],\"name\":\"Analytics\",\"async\":false}\nf:I{\"id\":4244,\"chunks\":[\"244:static/chunks/244-c42ba56614d2af63.js\",\"185:static/chunks/app/layout-fbc045c5"])</script><script>self.__next_f.push([1,"54b3af68.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"5:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce9a23a06f5ef06b.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"CCWZ_D94jhUjZ9bN29Qhf\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/article/react-components-performance-optimization\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[\"article\",{\"children\":[[\"slug\",\"react-components-performance-optimization\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"react-components-performance-optimization\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__variable_e66fe9 __variable_1e505f __variable_bd9c35\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark.min.css\"}]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[\"$\",\"main\",null,{\"className\":\"container h-[100dvh] flex items-center justify-center px-4 flex-col\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl font-serif md:text-5xl\",\"children\":\"Page Not Found.\"}],[\"$\",\"p\",null,{\"className\":\"text-base font-neutral-700 mt-2\",\"children\":\"The page you are looking for doesn't exist!\"}],[\"$\",\"a\",null,{\"href\":\"/\",\"className\":\"w-fit px-4 py-2 mt-4 text-white hover:bg-violet-600 duration-150 ease-out bg-accent rounded-full justify-center items-center gap-2.5 inline-flex\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 20 20\",\"aria-hidden\":\"true\",\"className\":\"w-5 h-5\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"fillRule\":\"evenodd\",\"d\":\"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z\",\"clipRule\":\"evenodd\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"div\",null,{\"className\":\"text-center text-sm\",\"children\":\"Take me home\"}]]}]]}],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"article\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"article\",\"children\",[\"slug\",\"react-components-performance-optimization\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"react-components-performance-optimization\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/49d3059087771821.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"react-components-performance-optimization\",\"d\"]},\"styles\":[]}],\"segment\":\"article\"},\"styles\":[]}],\"segment\":\"blog\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}],[\"$\",\"$Lf\",null,{\"async\":true,\"src\":\"https://contra.com/static/embed/sdk.js\"}],\";\"]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"10:I{\"id\":8006,\"chunks\":[\"61:static/chunks/39aecf79-9dea6b30ed31adf4.js\",\"33:static/chunks/737dfa3e-69e3232a64171cf6.js\",\"682:static/chunks/07115393-08ae64777c7edf06.js\",\"813:static/chunks/813-bbbf0590dcd0de65.js\",\"923:static/chunks/app/blog/article/[slug]/page-2b00474a8be7c7ff.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":6964,\"chunks\":[\"61:static/chunks/39aecf79-9dea6b30ed31adf4.js\",\"33:static/chunks/737dfa3e-69e3232a64171cf6.js\",\"682:static/chunks/07115393-08ae64777c7edf06.js\",\"813:static/chunks/813-bbbf0590dc"])</script><script>self.__next_f.push([1,"d0de65.js\",\"923:static/chunks/app/blog/article/[slug]/page-2b00474a8be7c7ff.js\"],\"name\":\"Image\",\"async\":false}\n13:I{\"id\":4255,\"chunks\":[\"61:static/chunks/39aecf79-9dea6b30ed31adf4.js\",\"33:static/chunks/737dfa3e-69e3232a64171cf6.js\",\"682:static/chunks/07115393-08ae64777c7edf06.js\",\"813:static/chunks/813-bbbf0590dcd0de65.js\",\"923:static/chunks/app/blog/article/[slug]/page-2b00474a8be7c7ff.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"$L10\",null,{}],[\"$\",\"main\",null,{\"className\":\"container mx-auto max-w-4xl flex flex-col px-4 mt-8\",\"children\":[[\"$\",\"a\",null,{\"href\":\"/\",\"className\":\"text-sm flex w-fit items-center space-x-2\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"true\",\"className\":\"w-4 h-4 \",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"fillRule\":\"evenodd\",\"d\":\"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z\",\"clipRule\":\"evenodd\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"children\":\"Back home\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col mt-16 space-y-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl\",\"children\":[\" \",\"React components performance optimization\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col space-y-2\",\"children\":[[\"$\",\"$L11\",null,{\"src\":\"../../../cdn.hashnode.com/res/hashnode/image/upload/v1679582185712/e21870b8-1c65-49a8-ae50-66c38ad3df4d.png\",\"alt\":\"React components performance optimization\",\"width\":1600,\"height\":840}],[\"$\",\"p\",null,{\"className\":\"text-neutral-400 text-sm font-normal\",\"children\":[\"Published: \",\"March 23, 2023\"]}]]}]]}],[\"$\",\"article\",null,{\"className\":\"mt-[100px] prose prose-pre:bg-transparent prose-pre:p-0 prose-code:rounded-lg lg:prose-xl max-w-none prose-p:text-sm md:prose-p:text-base prose-headings:font-medium\",\"children\":\"$L12\"}]]}],[\"$\",\"$L13\",null,{}]]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"h2\",null,{\"children\":\"Introduction:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In a React application, components are renderedâ€¦usually a lot. Improving performance includes preventing unnecessary renders and reducing the time a render takes. React comes with tools to help us prevent unnecessary renders: \",[\"$\",\"code\",null,{\"children\":\"memo\"}],\", \",[\"$\",\"code\",null,{\"children\":\"useMemo\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"useCallback\"}],\".\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"No change, no re-render:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When the parent's state (or props) changes, react will re-render all the children components even though their props or state are the same.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Have a look at the following code:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"React\"}],\", { useRef, useState } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"react\\\"\"}],\";\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"Cat\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"{ name }\"}],\") =\u003e {\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(name, \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\" rendered!\\\"\"}],\");\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\"\u003e\"]}],\"{name}\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\"\u003e\"]}]]}],\";\\n};\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"App\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\"}],\") =\u003e {\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" [cats, setCats] = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useState\"}],\"([\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Boggy\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Siana\\\"\"}],\"]);\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" inputRef = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useRef\"}],\"();\\n\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"handleSubmit\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"event\"}],\") =\u003e {\\n\\t\\tevent.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"preventDefault\"}],\"();\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"setCats\"}],\"([...cats, inputRef.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"current\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"value\"}],\"]);\\n\\t\\tinputRef.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"current\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"value\"}],\" = \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"\\\"\"}],\";\\n\\t};\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" (\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":\"\u003c\u003e\"}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"form\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"onSubmit\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{handleSubmit}\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"input\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"ref\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{inputRef}\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"type\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"text\\\"\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"required\"}],\"\\n\\t\\t\\t\\t/\u003e\"]}],\"\\n\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"button\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"type\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"submit\\\"\"}],\"\u003e\"]}],\"Add cat\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"button\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"form\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ol\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\\t{cats.map((name, index) =\u003e \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"Cat\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"key\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{index}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"name\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{name}\"}],\" /\u003e\"]}],\")}\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ol\"}],\"\u003e\"]}],\"\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":\"\u003c/\u003e\"}]]}],\"\\n\\t);\\n}\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Let's add a new cat \",[\"$\",\"code\",null,{\"children\":\"Picka\"}],\" and see what the console logs:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-plaintext\",\"children\":\"Boggy  rendered!\\nSiana  rendered!\\nPicka rendered!\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Every time we add a new cat and update the state, \",[\"$\",\"strong\",null,{\"children\":\"react re-renders all the children components\"}],\":\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" component is a pure component: \",[\"$\",\"em\",null,{\"children\":\"same output given the same props\"}],\". We donâ€™t want to re-render a pure component if the properties havenâ€™t changed. React provides us with a solution: The \",[\"$\",\"code\",null,{\"children\":\"memo()\"}],\" function can be used to create a component that will only re-render when its properties change.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-js\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"/* import the `memo` function */\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"React\"}],\", { memo, useRef, useState } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"react\\\"\"}],\";\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"Cat\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"{ name }\"}],\") =\u003e {\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(name, \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\" rendered!\\\"\"}],\");\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\"\u003e\"]}],\"{name}\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\"\u003e\"]}]]}],\";\\n};\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"/* wrap the `Cat` component within `memo` */\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"MemoCat\"}],\" = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"memo\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"Cat\"}],\");\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Weâ€™ve created a new component called \",[\"$\",\"code\",null,{\"children\":\"MemoCat\"}],\". \",[\"$\",\"code\",null,{\"children\":\"MemoCat\"}],\" will only cause the \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" to render when the props change.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Then, you can replace the \",[\"$\",\"code\",null,{\"children\":\"cat\"}],\" component with \",[\"$\",\"code\",null,{\"children\":\"MemoCat\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-jsx\",\"children\":[\"...\\n{cats.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"map\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-function\",\"children\":[\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"name, index\"}],\") =\u003e\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"MemoCat\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"key\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{index}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"name\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{name}\"}],\" /\u003e\"]}]}],\")}\\n...\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Now, every time we add a new cat, we see only one render in the console:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"picka rendred!\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"useCallback:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now, what if we need to pass a function to the \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" component along with the \",[\"$\",\"code\",null,{\"children\":\"name\"}],\" prop? Ok, let's modify the \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" component:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-jsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"Cat\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"{ name, meow = f =\u003e f }\"}],\") =\u003e {\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(name, \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\" rendered!\\\"\"}],\");\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"onClick\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{()\"}],\" =\u003e\"]}],\" meow(name)}\u003e{name}\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"li\"}],\"\u003e\"]}]]}],\";\\n};\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"MemoCat\"}],\" = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"memo\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"Cat\"}],\");\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Note: the \",[\"$\",\"code\",null,{\"children\":\"f =\u003e f\"}],\" is a fake function that does nothing. It is used to avoid errors in case we didn't provide a \",[\"$\",\"code\",null,{\"children\":\"meow\"}],\" property to the \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" component.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now, let's modify the \",[\"$\",\"code\",null,{\"children\":\"App\"}],\" and provide a \",[\"$\",\"code\",null,{\"children\":\"meow\"}],\" prop:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-jsx\",\"children\":[\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"App\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\"}],\") =\u003e {\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" [cats, setCats] = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useState\"}],\"([\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Boggy\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Siana\\\"\"}],\",]);\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" inputRef = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useRef\"}],\"();\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// create a function that we will pass to the Cat component as a prop.\"}],\"\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"meow\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"name\"}],\") =\u003e \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(name, \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'meowed!'\"}],\");\\n\\t\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"handleSubmit\"}],\" = (\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"event\"}],\") =\u003e {\\n\\t\\tevent.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"preventDefault\"}],\"();\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"setCats\"}],\"([...cats, inputRef.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"current\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"value\"}],\"]);\\n\\t\\tinputRef.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"current\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"value\"}],\" = \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"\\\"\"}],\";\\n\\t};\\n\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" (\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":\"\u003c\u003e\"}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"form\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"onSubmit\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{handleSubmit}\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"input\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"ref\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{inputRef}\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"type\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"text\\\"\"}],\"\\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"required\"}],\"\\n\\t\\t\\t\\t/\u003e\"]}],\"\\n\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"button\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"type\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"submit\\\"\"}],\"\u003e\"]}],\"Add cat\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"button\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"form\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ol\"}],\"\u003e\"]}],\"\\n\\t\\t\\t\\t{cats.map((name, index) =\u003e \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"MemoCat\"}],\" \\n\\t\\t\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"key\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{index}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"name\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{name}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"meow\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{meow}\"}],\" /\u003e\"]}],\"\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ol\"}],\"\u003e\"]}],\"\\n\\t\\t\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":\"\u003c/\u003e\"}]]}],\"\\n\\t);\\n}\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"App\"}],\";\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Let's retry adding a cat named 'picka' to the list and see what is logged in the console:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-plaintext\",\"children\":\"Boggy  rendered!\\nSiana  rendered!\\npicka  rendered!\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Unfortunately, the magic of \",[\"$\",\"code\",null,{\"children\":\"memo\"}],\" is gone. But why???\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Every time we update the state, the \",[\"$\",\"code\",null,{\"children\":\"App\"}],\" re-renders and the \",[\"$\",\"code\",null,{\"children\":\"meow\"}],\" function is re-created. For React, the new \",[\"$\",\"code\",null,{\"children\":\"meow\"}],\" function prop is different from the previous one. So it re-renders the \",[\"$\",\"code\",null,{\"children\":\"Cat\"}],\" component.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To solve this problem, we have to 'memoize' (or simply remember) the \",[\"$\",\"code\",null,{\"children\":\"meow\"}],\" function definition between re-renders. That's why we use \",[\"$\",\"code\",null,{\"children\":\"useCallback\"}],\" hook.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Let's import \",[\"$\",\"code\",null,{\"children\":\"useCallback\"}],\":\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-jsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" {useCallback} \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'react'\"}],\"\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"and use it in our \",[\"$\",\"code\",null,{\"children\":\"App\"}],\" component to:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-jsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meow = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useCallback\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-function\",\"children\":[\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"name\"}],\") =\u003e\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(name), [])\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"It works as expected when adding a new Cat!\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Heavy calculation? cache it:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Rendering takes time and resources, especially if your component is doing \",[\"$\",\"em\",null,{\"children\":\"heavy calculations\"}],\", like looping over a large array or doing expensive computations.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React provides us with the \",[\"$\",\"code\",null,{\"children\":\"useMemo\"}],\" hook, which let's us cache the result of a calculation between re-renders.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useMemo\"}],\" takes two parameters, the 1st one is a function, and a dependency array of values needed in the calculation, \",[\"$\",\"em\",null,{\"children\":\"it will re-run the function only if the dependency array changes\"}],\". if the dependency array didn't change and the component re-renders, useMemo won't re-calculate the value and it will return the one from the previous render instead.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Bonus: How to determine if your component is doing heavy calculations:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To know if your component is doing heavy tasks, you may need to measure the time spent on a piece of code using \",[\"$\",\"code\",null,{\"children\":\"console.time()\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"time\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'filter array'\"}],\")\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" filteredArray = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useMemo\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-function\",\"children\":\"() =\u003e\"}],\" {...}, [deps])\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"timeEnd\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'filter array'\"}],\")\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"if your function needed a significant amount of time to execute (say \",[\"$\",\"code\",null,{\"children\":\"1ms\"}],\" or more), you may need to use \",[\"$\",\"code\",null,{\"children\":\"useMemo\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"That's all for today! I hope you enjoyed reading this article.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"References:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.oreilly.com/library/view/learning-react-2nd/9781492051718/\",\"children\":\"O'Reilly book\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://react.dev/\",\"children\":\"React docs\"}]}],\"\\n\"]}],\"\\n\"]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Blog | React components performance optimization\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Introduction:\\nIn a React application, components are renderedâ€¦usually a lot. Improving performance includes preventing unnecessary renders and reducing the time a render takes. React comes with tools to help us prevent unnecessary renders: memo, useM...\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Soufianeelc | Front-end Developer\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"I'm a front-end developer, I like using modern technologies to create digital products\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image:type\",\"content\":\"image/png\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image\",\"content\":\"https://personal-portfolio-dnqp561jh-soufianeelc.vercel.app/opengraph-image.png?40dc6eb3ece9ea28\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:site\",\"content\":\"@soufianeeclc\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"Soufianeelc | Front-end Developer\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"I'm a front-end developer, I like using modern technologies to create digital products\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:image:type\",\"content\":\"image/png\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image\",\"content\":\"https://personal-portfolio-dnqp561jh-soufianeelc.vercel.app/opengraph-image.png?40dc6eb3ece9ea28\"}],[\"$\",\"link\",\"18\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"meta\",\"19\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script></body>
<!-- Mirrored from www.soufianeelc.me/blog/article/react-components-performance-optimization by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 29 Dec 2023 21:06:42 GMT -->
</html>